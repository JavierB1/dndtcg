<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración DND TCG</title>
    <!-- Incluir CSS del panel de administración (separado del de la tienda) -->
    <link rel="stylesheet" href="css/admin.css">
    <!-- Opcional: Para iconos, si se usa FontAwesome u otra librería -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar (Barra Lateral) -->
        <aside class="sidebar" id="sidebar-menu">
            <div class="sidebar-header">
                <h3>Admin DND TCG</h3>
                <!-- Botón para cerrar la sidebar en móvil -->
                <button class="close-sidebar-btn" id="closeSidebarBtn">&times;</button>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" id="nav-dashboard">Dashboard</a></li>
                    <li><a href="#" id="nav-cards">Gestión de Cartas</a></li>
                    <li><a href="#" id="nav-sealed-products">Gestión Productos Sellados</a></li>
                    <li><a href="#" id="nav-categories">Gestión de Categorías</a></li>
                    <li><a href="#" id="nav-orders">Pedidos (Pronto)</a></li>
                    <li><a href="#" id="nav-logout">Cerrar Sesión</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Overlay para cuando la sidebar está abierta en móvil -->
        <div class="sidebar-overlay" id="sidebar-overlay"></div>

        <!-- Contenido Principal del Panel -->
        <main class="main-content">
            <header class="main-header">
                <!-- Botón para abrir la sidebar en móvil -->
                <button id="sidebarToggleBtn" class="sidebar-toggle-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <h1>Bienvenido al Panel de Administración</h1>
                <div class="header-right-controls"> <!-- Contenedor para alinear elementos a la derecha -->
                    <button id="refreshAdminPageBtn" class="refresh-button">
                        <i class="fas fa-sync-alt"></i> <!-- Icono de refrescar -->
                    </button>
                    <div class="user-info">
                        <span>Admin User</span>
                        <!-- Aquí podrías mostrar el ID del usuario si implementas Firebase Auth -->
                    </div>
                </div>
            </header>

            <!-- Sección de Dashboard (por defecto) -->
            <section id="dashboard-section" class="admin-section active">
                <h2>Dashboard</h2>
                <p>Resumen rápido de tu tienda.</p>
                <!-- Aquí irían estadísticas, alertas, etc. -->
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <h3>Total de Cartas</h3>
                        <p id="totalCardsCount">Cargando...</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Productos Sellados</h3>
                        <p id="totalSealedProductsCount">Cargando...</p>
                    </div>
                    <div class="stat-card">
                        <h3>Cartas sin Stock</h3>
                        <p id="outOfStockCount">Cargando...</p>
                    </div>
                    <div class="stat-card">
                        <h3>Categorías Únicas</h3>
                        <p id="uniqueCategoriesCount">Cargando...</p>
                    </div>
                </div>
            </section>

            <!-- Sección de Gestión de Cartas -->
            <section id="cards-section" class="admin-section">
                <h2>Gestión de Cartas</h2>
                <button id="addCardBtn" class="add-button">Añadir Nueva Carta</button>
                <div class="card-list-container">
                    <h3>Lista de Cartas</h3>
                    <input type="text" id="adminSearchInput" placeholder="Buscar carta por nombre o ID..." class="admin-search-input">
                    <select id="adminCategoryFilter" class="admin-select-filter">
                        <option value="">Todas las categorías</option>
                    </select>
                    <table id="cardsTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Categoría</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Las filas de las cartas se cargarán aquí con JavaScript -->
                        </tbody>
                    </table>
                    <div class="pagination-controls">
                        <button id="adminPrevPageBtn" class="pagination-btn">-</button>
                        <span id="adminPageInfo">Página 1 de 1</span>
                        <button id="adminNextPageBtn">+</button>
                    </div>
                </div>
            </section>

            <!-- Sección de Gestión de Productos Sellados -->
            <section id="sealed-products-section" class="admin-section">
                <h2>Gestión de Productos Sellados</h2>
                <button id="addSealedProductBtn" class="add-button">Añadir Nuevo Producto Sellado</button>
                <div class="sealed-product-list-container">
                    <h3>Lista de Productos Sellados</h3>
                    <input type="text" id="adminSealedSearchInput" placeholder="Buscar producto por nombre o ID..." class="admin-search-input">
                    <select id="adminSealedTypeFilter" class="admin-select-filter">
                        <option value="">Todos los tipos</option>
                    </select>
                    <table id="sealedProductsTable">
                        <thead>
                            <tr>
                                <th>ID Producto</th>
                                <th>Imagen</th>
                                <th>Nombre Producto</th>
                                <th>Tipo</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Las filas de los productos sellados se cargarán aquí con JavaScript -->
                        </tbody>
                    </table>
                    <div class="pagination-controls">
                        <button id="adminSealedPrevPageBtn">-</button>
                        <span id="adminSealedPageInfo">Página 1 de 1</span>
                        <button id="adminSealedNextPageBtn">+</button>
                    </div>
                </div>
            </section>

            <!-- Sección de Gestión de Categorías -->
            <section id="categories-section" class="admin-section">
                <h2>Gestión de Categorías</h2>
                <button id="addCategoryBtn" class="add-button">Añadir Nueva Categoría</button>
                <div class="category-list-container">
                    <h3>Lista de Categorías</h3>
                    <table id="categoriesTable">
                        <thead>
                            <tr>
                                <th>Nombre de Categoría</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Las filas de las categorías se cargarán aquí con JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Modal para Añadir/Editar Carta -->
            <div id="cardModal" class="admin-modal">
                <div class="admin-modal-content">
                    <span class="close-button">&times;</span>
                    <h3 id="cardModalTitle">Añadir/Editar Carta</h3>
                    <form id="cardForm">
                        <input type="hidden" id="cardId">
                        <label for="cardName">Nombre:</label>
                        <input type="text" id="cardName" required>
                        <label for="cardImage">URL Imagen:</label>
                        <input type="url" id="cardImage" required>
                        <label for="cardPrice">Precio:</label>
                        <input type="number" id="cardPrice" step="0.01" required>
                        <label for="cardStock">Stock:</label>
                        <input type="number" id="cardStock" required>
                        <label for="cardCategory">Categoría:</label>
                        <input type="text" id="cardCategory" list="categoryOptions">
                        <datalist id="categoryOptions"></datalist>
                        <button type="submit" id="saveCardBtn">Guardar Carta</button>
                    </form>
                </div>
            </div>

            <!-- Modal para Añadir/Editar Producto Sellado -->
            <div id="sealedProductModal" class="admin-modal">
                <div class="admin-modal-content">
                    <span class="close-button">&times;</span>
                    <h3 id="sealedProductModalTitle">Añadir/Editar Producto Sellado</h3>
                    <form id="sealedProductForm">
                        <input type="hidden" id="sealedProductId">
                        <label for="sealedProductName">Nombre Producto:</label>
                        <input type="text" id="sealedProductName" required>
                        <label for="sealedProductImage">URL Imagen:</label>
                        <input type="url" id="sealedProductImage" required>
                        <label for="sealedProductType">Tipo Producto:</label>
                        <input type="text" id="sealedProductType" list="sealedProductTypeOptions">
                        <datalist id="sealedProductTypeOptions"></datalist>
                        <label for="sealedProductPrice">Precio:</label>
                        <input type="number" id="sealedProductPrice" step="0.01" required>
                        <label for="sealedProductStock">Stock:</label>
                        <input type="number" id="sealedProductStock" required>
                        <button type="submit" id="saveSealedProductBtn">Guardar Producto</button>
                    </form>
                </div>
            </div>

            <!-- Modal para Añadir/Editar Categoría -->
            <div id="categoryModal" class="admin-modal">
                <div class="admin-modal-content">
                    <span class="close-button">&times;</span>
                    <h3 id="categoryModalTitle">Añadir/Editar Categoría</h3>
                    <form id="categoryForm">
                        <input type="hidden" id="categoryId">
                        <label for="categoryName">Nombre de Categoría:</label>
                        <input type="text" id="categoryName" required>
                        <button type="submit" id="saveCategoryBtn">Guardar Categoría</button>
                    </form>
                </div>
            </div>

            <!-- Modal de Confirmación para Eliminar -->
            <div id="confirmModal" class="admin-modal">
                <div class="admin-modal-content">
                    <h3>Confirmar Eliminación</h3>
                    <p id="confirmMessage">¿Estás seguro de que quieres eliminar este elemento?</p>
                    <div class="modal-buttons">
                        <button id="cancelDeleteBtn" class="cancel-button">Cancelar</button>
                        <button id="confirmDeleteBtn" class="confirm-button">Eliminar</button>
                    </div>
                </div>
            </div>

            <!-- Modal de Inicio de Sesión -->
            <div id="loginModal" class="admin-modal">
                <div class="admin-modal-content">
                    <h3>Inicio de Sesión</h3>
                    <p id="loginMessage" style="color: red; text-align: center;"></p>
                    <form id="loginForm">
                        <label for="username">Usuario:</label>
                        <input type="text" id="username" required>
                        <label for="password">Contraseña:</label>
                        <input type="password" id="password" required>
                        <button type="submit" id="loginBtn">Iniciar Sesión</button>
                    </form>
                </div>
            </div>

        </main>
    </div>

    <!-- Incluir JavaScript del panel de administración -->
    <script src="js/admin.js"></script>
</body>
</html>
